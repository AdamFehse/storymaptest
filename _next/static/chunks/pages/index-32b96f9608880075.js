(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1493)}])},1493:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var n=r(5893),a=r(9008),o=r.n(a),s=r(7294),i=r(5152),l=r.n(i);let c=l()(()=>Promise.all([r.e(269),r.e(614)]).then(r.bind(r,8614)),{loadableGenerated:{webpack:()=>[8614]},ssr:!1});var d=(0,s.forwardRef)((e,t)=>{let r=s.useRef(null);return(0,s.useImperativeHandle)(t,()=>({flyTo:(e,t)=>{r.current&&r.current.flyTo([e,t],14)}})),(0,n.jsx)("div",{style:{width:"100%",height:"100vh"},children:(0,n.jsx)(c,{ref:r,...e,options:{maxZoom:19,minZoom:7,maxBounds:[[31.218894,-111.938791],[32.660329,-109.910668]],maxBoundsViscosity:1,zoomControl:!0,scrollWheelZoom:!0}})})}),h=r(8591),u=r(3680),j=r(9159),p=r.n(j),Sidebar_Sidebar=e=>{let{projects:t,filteredProjects:r,setFilteredProjects:a,mapRef:o}=e,[i,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),handleToggle=()=>l(!i),handleCategoryClick=e=>{if(d(e),e){let r=t.filter(t=>t["Project Category"]===e);a(r)}else a(t)},handleProjectClick=e=>{let{Latitude:t,Longitude:r}=e,n=parseFloat(t),a=parseFloat(r);isNaN(n)||isNaN(a)||o.current.flyTo(n,a)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(h.Z,{show:i,onHide:handleToggle,placement:"end",children:[(0,n.jsx)(h.Z.Header,{closeButton:!0,children:(0,n.jsx)(h.Z.Title,{children:"Project Categories"})}),(0,n.jsxs)(h.Z.Body,{children:[(0,n.jsxs)("div",{className:p().categoryButtons,children:[(0,n.jsx)(u.Z,{variant:"Art-Based Projects"===c?"primary":"secondary",onClick:()=>handleCategoryClick("Art-Based Projects"),children:"Art-Based Projects"}),(0,n.jsx)(u.Z,{variant:"Research Projects"===c?"primary":"secondary",onClick:()=>handleCategoryClick("Research Projects"),children:"Research Projects"}),(0,n.jsx)(u.Z,{variant:"Education and Community Outreach"===c?"primary":"secondary",onClick:()=>handleCategoryClick("Education and Community Outreach"),children:"Education and Community Outreach"}),(0,n.jsx)(u.Z,{variant:""===c?"primary":"secondary",onClick:()=>handleCategoryClick(""),children:"All Projects"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{children:c?"".concat(c," Projects"):"All Projects"}),r.length>0?(0,n.jsx)("ul",{children:r.map((e,t)=>{let r=parseFloat(e.Latitude),a=parseFloat(e.Longitude);return(0,n.jsxs)("li",{onClick:()=>handleProjectClick(r,a),children:[(0,n.jsx)("strong",{children:e["Project Name"]}),(0,n.jsx)("br",{}),e.DescriptionShort]},t)})}):(0,n.jsx)("p",{children:"No projects to display"})]})]})]}),(0,n.jsx)(u.Z,{variant:"primary",onClick:handleToggle,className:"".concat(p().sidebarButton," ").concat(i?p().hidden:""),children:i?"":"Open Sidebar"})]})},m=r(9410),x=r.n(m);let _=[31.244725,-111.060728];function Home(){let[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)([]),i=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let loadJsonData=async()=>{let e=await fetch("/storymapdata.json"),r=await e.json();t(r),a(r)};loadJsonData()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"Next.js Leaflet Starter"}),(0,n.jsx)("meta",{name:"description",content:"Create mapping apps with Next.js Leaflet Starter"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(Sidebar_Sidebar,{projects:e,filteredProjects:r,setFilteredProjects:a,mapRef:i}),(0,n.jsx)("div",{className:x().homeMapContainer,style:{position:"relative"},children:(0,n.jsx)(d,{className:x().homeMap,center:_,zoom:9,projects:r,ref:i,children:e=>{let{TileLayer:t,Marker:a,Popup:o}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.map((e,t)=>{let r=parseFloat(e.Latitude),s=parseFloat(e.Longitude);return isNaN(r)||isNaN(s)?null:(0,n.jsx)(a,{position:[r,s],children:(0,n.jsxs)(o,{children:[(0,n.jsx)("strong",{children:e["Project Name"]}),(0,n.jsx)("br",{}),e.DescriptionShort]})},t)})]})}})})]})}},9159:function(e){e.exports={sidebarButton:"Sidebar_sidebarButton__mBMbF",hidden:"Sidebar_hidden__PZkfn",categoryButtons:"Sidebar_categoryButtons__D3eho"}},9410:function(e){e.exports={title:"Home_title__qpuAf",description:"Home_description___6u6j",view:"Home_view__FF9wH",code:"Home_code__8OdLc"}}},function(e){e.O(0,[986,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);